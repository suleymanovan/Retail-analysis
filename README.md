# Retail-analysis
Анализ продаж онлайн-розничной торговли: поиск точек роста,  составление рекомендаций стейкхолдерам, построение предиктивной модели.

Анализ данных при помощи Python в файле https://github.com/suleymanovan/Retail-analysis/blob/main/Retail_Analysis_Project.ipynb

Дашборд, выполненный в Google Data Studio https://github.com/suleymanovan/Retail-analysis/blob/main/Dashboard_Analysis.pdf

Презентация анализа в Power point https://github.com/suleymanovan/Retail-analysis/blob/main/Dashboard_Analysis.pdf

1. Введение.

В данной дипломной работе мною был проделан анализ набора данных, который содержит все транзакции онлайн торговли со следующими атрибутами:
* номер заказа (25900 уникальных номеров)
* код товара 
* название товара
* кол-во
* цена
* дата заказа
* код клиента
* страна клиента.

Период продаж: с 01/12/2010 по 09/12/2011.

Компания: онлайн - магазин, зарегистрированный в Великобритании. 

Товар: уникальные подарки на все случаи жизни.

Доставка: во многие страны мира, в т.ч. по Великобритании. 

Клиенты: многие клиенты являются оптовыми компаниями.

Описание данных.

* Источник: Датасет был взят с сайта www.kaggle.com, создан компанией The UCI Machine Learning Repository.
* Выявленные проблемы: пропуски в данных, некорректные типы данных, выбросы (огромные значения в заказах, которые потом были отменены).

Шаги преобразования и очистки данных: 
1. Исследование датасета на предмет качества и достаточности данных.  
2. Найдены пропуски в данных - недостающие данные в названии товара и отсутствует 25% CustomerID, скорей всего, покупки от незарегистрированных клиентов.
3. Invoice Date  приведен к формату datetime, а CustomerID - к объекту.
4. Почистила датасет от выбросов в кол-ве проданных единиц (по 1.5% с каждой стороны) при помощи квантилей, удалила почти 20 тыс. строк с выбросами.
5. Добавлены столбцы с суммой продажи, месяцем и годом, днем недели.

Статистическое описание: 
* 522692 строк в отчете.
* Максимальное кол-во продаж одного кода в одном заказе - 95 шт, минимальное - 1 шт.
* Максимальная сумма заказа - 38970 фунтов.
* В среднем заказе продается 7 штук одного кода товара.
* Среднее значение цены товара - 3,9 фунтов, средний заказ на сумму 16 фунтов.
* Визуализации: Использовала библиотеки Matplotlib и Seaborn, визуализировала тренды продаж по месяцам, распределение продаж по дням недели, динамику продаж в разрезе стран, повторные покупки.

Зависимости: По итогам анализа корреляции между всеми возможными парами числовых переменных в данном наборе данных, была выявлена зависимость между ценой товара и суммой заказа.

2. Постановка задачи

С помощью этих данных можно:
* проанализировать развитие магазина за год в динамике (дек 2010 - дек 2011),
* формировать ассортимент и заполнять склад наиболее востребованными товарами,
* продумать акции/скидки для не продающихся товаров,
* узнать, какие клиенты/страны приносят больший доход,
* мониторить retention — то есть количество повторных покупок,
* устанавливать минимальную стоимость заказа на доставку исходя из среднего чека,
* анализировать возвраты/отказы (причины и меры).

Круг стейкхолдеров: Директор, отдел продаж, отдел логистики и закупок, управляющий складом, отдел маркетинга.

Вопросы к стейкхолдерам для определения бизнес-задачи:
* Какую бизнес-цель мы преследуем? Какой результат нам нужно получить?
* На основании чего мы поймем, что продвигаемся к цели? Метрики.
* Есть ли данные для расчета таких показателей?
* Кто влияет на достижение измеримой цели?
* Как можно повлиять на улучшение значений таких показателей? Декомпозиция иерархии метрик.
* Каким клиентам хотим продавать? Таргет.
* В чём наш value proposition?
* Каких вендоров/партнеров можем подключить?
* В какую из существующих стран вкладываться?

Ключевая цель данного бизнеса достигается за счет:

увеличения трафика на сайте -> увеличения лидов -> увеличение кол-ва покупок -> увеличения выручки за счет повторных заказов.


Гипотезы к проверке: 
* Добавление на сайте в карточку товара персонализированной рекомендации сопутствующих товаров  - вдохновит пользователя на дополнительные покупки -> повысит средний чек.
* Таргетированные рекламные баннеры на сайтах поисковиках и в соц.сетях - увеличит трафик на сайт.
* Рассылка по электронной почте, оптимизация поисковой системы сайта, чтобы покупатель легко мог найти интересующий его товар - увеличит конверсию.

Метрики для проверки гипотез: 
* Средний чек
* Retention
* Динамика продаж
* Маркетинговые метрики: MAU, CTR, ROMI, CPA, LTV, ARPU, conversion rate.

3. Анализ

Анализ данных производила в ноутбуке Jupyter.

Что было проанализировано в процессе исследований:

1. Сводная таблица по заказам - всего было продано 3.824.281 единиц товара на сумму 8.206.286 фунтов стерлингов.
2. Средний чек - 191 шт на сумму 410 фунтов
3. Мода на кол-во штук в чеке - самое часто встречающееся значение 1 шт.
4. Анализ динамики продаж: Сводная таблица по месяцам - заметен пиковый рост продаж в ноябре, т.к. большинство клиентов магазина - оптовики, то возможная причина: подготовка к рождеству. 
5. Сводная таблица продаж по дням недели - больше всего продают по четвергам, меньше всего по воскресеньям, и нулевые продажи по субботам.
6. Анализ ассортимента: Сводная таблица по товарам и Топ-10 по кол-ву продаж и по сумме.
7. Анализ клиентов: Сводная таблица по клиентам и Топ-10 по сумме.
8. Анализ стран: Сводная таблица по странам покупателей и Топ-10 по кол-ву сделанных заказов за весь период, а также Топ-10 стран с конца списка для анализа логистики, насколько нам выгодно (или нет) доставлять в определенные страны .
9. Доля стран в общих продажах - львиную долю занимает UK (85%), но можно взять под наблюдению еще 4 страны (Германия, Ирландия, Франция, Нидерланды), которые вносят вклад больше 1%.
10. Динамика продаж в разрезе стран по месяцам (по суммам).
11. Анализ возвращающихся клиентов - они составляют 5% - 231 из 4286 клиентов.
12. Retention в динамике по месяцам - с мая 2011 по август total retention падал и с сентября стал расти.
13. Отток клиентов - таких клиентов не мало - 1482, 35%.

Используя данные расчеты и метрики, уже можем планировать и управлять основной бизнес-задачей - увеличение прибыли за счет:

Увеличение числа клиентов:
* повышение привлечения новых клиентов,
* уменьшение оттока / повышение удержания.

Увеличение суммы чека:
* увеличение числа позиций в чеке,
* увеличение средней стоимости позиции.

4. Методика решения.

Сценарий проверки гипотез, возникших при анализе исходных бизнес-требований:

Целью развития текущего бизнеса для руководства должен стать - поиск точек роста и отработки гипотез:
* гипотеза привлечения новых клиентов (виральности в т.ч.), 
* гипотеза удержания (роста повторных покупок), 
* управленческая гипотеза - сфокусировать команду на рост ключевых метрик (выручки, кол-ва заказов, кол-во новых клиентов).

Разработаем HADI Цикл для одной из гипотез:

HYPOTHESIS

Сформулируем гипотезу: Добавление на сайте в карточку товара персонализированной рекомендации сопутствующих товаров  - вдохновит пользователя на дополнительные покупки -> повысит средний чек.

Прогноз: +10% к сумме среднего чека (410 ф.ст.) при стоимости разработки 50 тыс.ф.ст.

ACTION 

* Оцениваем гипотезу, разрабатываем фичи.
* Создаем дизайн, внедряем фичи на сайт.
* Протестируем и доработаем.

DATA 

Проведем A/B-тест на пользователях

INSIGHTS

* Анализируем выводы: какие результаты (% прироста) и что можно доработать.
* Выкатим на всех пользователей и проведем ретроспективу.

DATA 

Снова анализируем данные: кол-во переходов, сумма продаж, CTR, конверсия.

Модель данных.

В ходе анализа была разработана предиктивная модель линейной регрессии, где целевой переменной выступают сгруппированные объемы продаж по месяцам. Признаками для модели выступают - колонки месяц и год.

За основу была взята сводная таблица по месяцам продаж df_month, и удалены продажи последнего месяца (декабрь 2011), так как он не полный, чтобы не портить картину для обучения модели.

Данные были приведены к одному масштабу при помощи Standard Scaler, разделены на обучающую и тестовую выборку.

По итогу я получила предиктивную модель, которая спрогнозировала продажи на ближайшие три месяца: 
* Декабрь 2011 - £ 883689.72, 
* Январь 2012 - £ 577600.84, 
* Февраль 2012 - £ 624014.40. 

Если сравнивать с соответствующими периодами прошлого года, то модель прогнозирует прирост продаж от 20 до 40%.

Рассчитан также коэффициент детерминации - 60%.  Достаточно высокое значение, которое означает, что зависимость продаж обусловлена на 60% периодом, а на 40% влиянием прочих факторов.

Оценила качество модели на X_test, y_test при помощи метрики RMSE (Среднеквадратическая ошибка предсказаний от правильных значений), которая выражает среднюю ошибку прогнозирования модели в единицах интересующей переменной, в данном случае в фунтах стерлингов.

Эта метрика может находиться в диапазоне от 0 до ∞ и безразлична к направлению ошибок. Чем ниже значение, тем лучше. В тестовой выборке RMSE у нас получился меньше, чем в тренировочной и составляет 66200 фунтов, то есть наши прогнозы могут ошибаться на +/-66200 фунтов, что не так много для наших сумм.

5. Результаты.

Результаты анализа были визуализированы в ноутбуке, также подготовлен дашборд для представления стейкхолдерам и презентация о проделанной работе.

Стейкхолдеры смогут использовать результаты внедрения данного анализа в следующих направлениях:
* Оптимизация продуктового ассортимента магазина для максимизации прибыли;
* Персональная продуктовая рекомендация и таргетированная реклама;
* Оптимизация дистрибуции, логистики и тайминга доставки через создание складов в странах с высоким уровнем продаж -  напр, можно анализировать данные по спросу/отсутствию товара на складе, совмещать эти данные с предпочтениями покупателей, живущих на данной территории, и таким образом оптимизировать ассортимент всех категорий товаров в каждой из стран;
* Прогнозирование трендов спроса/продаж;
* Предсказание потенциала маркета/страны для введения новых товаров;
* Анализ цен на товары - смотрим наши цены, мониторим цены конкурентов через сервисы Competera, Metacommerce, разрабатываем промоактивности и играем с ценами;
* Оптимизация прайса - используя технологии можно производить коррекцию цен на товар практически в реальном времени, используя данные о спросе и имеющихся товарных запасах на складе;
* Оптимизация маркетинговых активностей и инвестиций;
* Прогнозирование оттока клиентов и поиск решений по удержанию;
* Создание службы customer service для работы с ТОП клиентами для повышения уровня сервиса/удовлетворенности;
* Supply Chain Management - планирование поставок. Используя данные по продажам за предыдущие периоды и оптимизационные алгоритмы, автоматически определять спрос на товарные запасы и формировать логистические цепочки поставок, в результате - снижать ошибки при прогнозировании спроса, снижать убытки от хранения избыточных запасов.

